---
description: AI 코드 리뷰 결과를 처리하고 트러블슈팅 로그를 업데이트합니다. (자동 가져오기 기능 포함)
---

## 핵심 규칙

- **🔴 치명적, ⚠️ 경고**만 수정 대상
- **💡 제안**은 선택사항 → 자동 수정하지 않음
- **"✅ 코드 리뷰 통과"** 메시지가 있으면 추가 작업 중단

## 워크플로우

1. **리뷰 가져오기** (입력 없을 시):

   - `gh pr view --json number,baseRefName --jq '{"number": .number, "base": .baseRefName}'`로 PR 번호 및 **타겟 브랜치** 확인
   - `gh pr view [PR번호] --comments --json comments`로 코멘트 가져오기
   - "## 🤖 AI 코드 리뷰"로 시작하는 최신 코멘트 추출

2. **분석**:

   - "✅ 코드 리뷰 통과" 포함 시 → **수정 없이 완료 보고**
   - 🔴, ⚠️ 발견 시 → 로직 수정 및 트러블슈팅 문서 생성
   - **Target Branch 확인**: `main` 타겟인 경우(릴리즈 PR) 더욱 엄격한 검증(`npm run build` 필수) 적용. 그 외(`develop` 타겟)는 빠른 반영 우선.

3. **수정 및 검증**:

   - `view_file`로 확인 후 수정
   - **타겟별 검증**:
     - `main` 타겟: `npm run build` 성공 필수.
     - `develop` 타겟: `npm run dev` 구동 확인 또는 빌드 권장.

4. **트러블슈팅 문서화** (필수):

   > **중요**: 수정이 발생한 경우, `.troubles/` 디렉토리에 반드시 문서를 생성합니다.

   - **파일 위치**: `.troubles/YYYY-MM-DD_{Short-Topic-Name}.md`
   - **파일명 예시**: `2025-12-25_FileText-Import-Error.md`

   **파일 내용 템플릿**:

   ````markdown
   # {이슈 요약}

   ## Issue Description

   {구체적인 에러 메시지 또는 로직 결함 설명}

   - 파일: `{파일경로}`
   - 라인: {라인번호}
   - 에러 유형: 🔴 치명적 / ⚠️ 경고

   ## Solution Strategy

   {코드 수정 방법 및 기술적 세부사항}

   ### 변경 전

   ```{언어}
   {원본 코드}
   ```
   ````

   ### 변경 후

   ```{언어}
   {수정된 코드}
   ```

   ## Outcome

   - **상태**: ✅ 해결됨
   - **빌드 결과**: `npm run build` 성공
   - **검증 방법**: {테스트 방법 설명}

   ```

   ```

5. **레거시 로그 업데이트**: `troubleshooting.md` 테이블에 요약 추가

6. **보고**: 수정 내역 또는 "수정 불필요" 상태 안내
